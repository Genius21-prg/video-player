<link rel="import" href="../../../bower_components/imd/imd.html">

<link rel="import" href="../../base-element.html">
<link rel="import" href="../styling/control-bar--style-module.html">

<dom-module id="videotime-display">

  <template>
    <style type="text/css" include="control-bar--style-module">
    </style>

    <div id="container__videotime_display" class="user_controls">
      [[secondsToHms(state.position)]]
    </div>
  </template>

  <script>
    define('videotime-display', ['base-element'], (BaseElement) => {
      class VideoTimeDisplay extends BaseElement {
        static get is() { return 'videotime-display'; }

        static get properties() {
          return {
            state: Object,
            stateManager: Object,
          };
        }

        secondsToHms(position) {
          let seconds = Number(position);
          let hours = Math.floor(seconds / 3600);
          let minutes = Math.floor(seconds % 3600 / 60);
          let seconds2 = Math.floor(seconds % 3600 % 60);

          if(hours < 10) {
            hours = '0' + hours;
          }
          if(minutes < 10) {
            minutes = '0' + minutes;
          }
          if(seconds2 < 10) {
            seconds2 = '0' + seconds2;
          }

          if(hours === 0) {
            return minutes + ':' + seconds2;
          } else {
            return hours + ':' + minutes + ':' + seconds2;
          }
        }
      }

      window.customElements.define(VideoTimeDisplay.is, VideoTimeDisplay);
    });
  </script>

</dom-module>
